(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ba959bc"],{ade3:function(t,a,s){"use strict";function i(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}s.d(a,"a",(function(){return i}))},d547:function(t,a,s){"use strict";s.r(a);var i,e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home"},[s("div",{staticClass:"topBgcolor"}),s("div",{staticClass:"nav-bar"},[[s("div",{staticClass:"home-title one-text"},[t._v(t._s(t.timeText)),t.userInfo.nickName?s("span",[t._v("，"+t._s(t.userInfo.nickName))]):t._e()])],[s("van-icon",{staticClass:"pro-icon",attrs:{name:"search",size:"20"},on:{click:function(a){return t.btnShow()}}})],[s("van-icon",{staticClass:"pro-sao",attrs:{name:"scan",size:"20"}})],[s("van-icon",{staticClass:"data-icon",attrs:{size:"20",name:"calender-o"},on:{click:function(a){t.show=!0}}})],s("van-calendar",{attrs:{color:"#0c34ba"},on:{confirm:t.onConfirm},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}})],2),s("div",{staticClass:"search-prop"},[s("div",{staticClass:"topBgcolor-1"}),s("van-search",{directives:[{name:"show",rawName:"v-show",value:t.btnshow,expression:"btnshow"}],staticClass:"tab-btn",attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词"},on:{input:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}}),s("van-popup",{attrs:{position:"top"},model:{value:t.btnshow,callback:function(a){t.btnshow=a},expression:"btnshow"}},[t.searchList.length>0?s("div",{staticClass:"search-box"},[s("div",[s("h3",{staticClass:"product-h3"},[t._v("搜索发现：")]),s("div",{staticClass:"product-box clearfix"},t._l(t.searchList,(function(a,i){return s("div",{key:i,staticClass:"product-item fl",class:[i%2==0?"p-left":"p-right"],on:{click:function(s){return t.viewProductInfo(a.pid)}}},[s("div",{staticClass:"p-img"},[s("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"pro-name one-text"},[t._v(t._s(a.name))]),s("div",{staticClass:"clearFix"},[s("div",{staticClass:"pro-price fl"},[t._v(t._s(a.price))])])])})),0)])]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasSearch,expression:"hasSearch"}],staticClass:"null-box"},[s("van-empty",{attrs:{image:"search",description:"查无此商品，请重新输入"}})],1),s("div",{staticClass:"like-box"},[s("h3",{staticClass:"like-h3"},[t._v("猜你喜欢：")]),t._l(t.hotProducts,(function(a,i){return s("div",{key:i,staticClass:"product-list"},[s("div",{staticClass:"pro-img"},[s("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"pro-info"},[s("div",{staticClass:"pro-text"},[s("div",{staticClass:"ch-name"},[t._v(t._s(a.name))]),s("div",{staticClass:"pro-price"},[t._v("￥"+t._s(a.price))])])]),s("div",{staticClass:"pro-add"},[s("van-icon",{attrs:{name:"hot-o",size:"30",color:"#0b34ba"}})],1)])}))],2)])],1),s("div",{staticClass:"banner-box"},[s("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"#0b34ba"}},t._l(t.bannerData,(function(a,i){return s("van-swipe-item",{key:i},[s("img",{staticClass:"auto-img",attrs:{src:a.bannerImg,alt:""},on:{click:function(s){return t.viewProductInfo(a.pid)}}}),s("div",{staticClass:"banner-text"},[t._v(t._s(a.name))])])})),1)],1),s("div",{staticClass:"hot-product"},[s("div",{staticClass:"hot-product-title"},[t._v("热门推荐：")]),s("div",{staticClass:"product-box clearfix"},t._l(t.hotProducts,(function(a,i){return s("div",{key:i,staticClass:"product-item fl",class:[i%2==0?"p-left":"p-right"],on:{click:function(s){return t.viewProductInfo(a.pid)}}},[s("div",{staticClass:"p-img"},[s("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"pro-name one-text"},[t._v(t._s(a.name))]),s("div",{staticClass:"clearFix"},[s("div",{staticClass:"pro-price fl"},[t._v(t._s(a.price))])])])})),0)])])},n=[],o=(s("23b9"),s("8571")),c=s("ade3"),r=(s("ff95"),{name:"Home",data:function(){var t;return t={timeText:"",bannerData:[],hotProducts:[],show:!1,date:"",userInfo:{},value:"",btnshow:!1},Object(c["a"])(t,"hotProducts",[]),Object(c["a"])(t,"searchList",[]),Object(c["a"])(t,"hasSearch",!1),t},created:function(){this.getTime(),this.getbannerData(),this.getHotProducts(),this.getUserInfo()},methods:(i={getTime:function(){var t=(new Date).getHours();this.timeText=t>=6&&t<12?"早上好":t>=12&&t<18?"下午好":t>=18&&t<24?"晚上好":"深夜好"},btnShow:function(){this.btnshow=!0},onSearch:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/search",params:{appkey:this.appkey,name:this.value}}).then((function(a){if(t.$toast.clear(),"Q001"==a.data.code){if(""==t.value)return t.hasSearch=!1,void(t.searchList=[]);0==a.data.result.length&&(t.hasSearch=!0),t.searchList=a.data.result}})).catch((function(a){t.$toast.clear()}))},viewProductInfo:function(t){this.$router.push({name:"Detail",query:{pid:t}})},onCancel:function(){Object(o["a"])("取消"),this.btnshow=!1},getHotProducts:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:"isHot",value:1}}).then((function(a){t.$toast.clear(),500==a.data.code&&(t.hotProducts=a.data.result)})).catch((function(a){t.$toast.clear()}))},onConfirm:function(){this.show=!1},getbannerData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/banner",params:{appkey:this.appkey}}).then((function(a){t.$toast.clear(),300==a.data.code&&(t.bannerData=a.data.result)})).catch((function(a){t.$toast.clear()}))}},Object(c["a"])(i,"getHotProducts",(function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:"isHot",value:1}}).then((function(a){t.$toast.clear(),500==a.data.code&&(t.hotProducts=a.data.result)})).catch((function(a){t.$toast.clear()}))})),Object(c["a"])(i,"viewProductInfo",(function(t){this.$router.push({name:"Detail",query:{pid:t}})})),Object(c["a"])(i,"getUserInfo",(function(){var t=this,a=localStorage.getItem("CSTK");a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),"A001"==a.data.code&&a.data.result.length>0&&(t.isLogin=!0,t.userInfo=a.data.result[0])})).catch((function(a){t.$toast.clear()})))})),i)}),l=r,u=s("2877"),d=Object(u["a"])(l,e,n,!1,null,null,null);a["default"]=d.exports},ff95:function(t,a,s){}}]);
//# sourceMappingURL=chunk-8ba959bc.14070ae6.js.map